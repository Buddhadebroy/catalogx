(()=>{"use strict";const t=window.wp.blocks,e=window.wp.blockEditor,o=window.ReactJSXRuntime;(0,t.registerBlockType)("catalogx/quote-button",{title:"Quote Button",icon:"button",category:"catalogx",edit(){const t=(0,e.useBlockProps)();return(0,o.jsx)("div",{...t,children:(0,o.jsx)("button",{className:"add-request-quote-button",children:"Add to Quote"})})},save:()=>(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{className:"add-request-quote-button",children:"Add to Quote"}),(0,o.jsx)("div",{className:"quote-message-container"})]})}),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".add-request-quote-button");t&&t.addEventListener("click",(function(t){t.preventDefault();const e=document.querySelector('[data-block-name="woocommerce/single-product"]'),o=e?e.dataset.productId:null,n=document.querySelector(".quantity .qty"),c=n?n.value:1,u=new URLSearchParams({action:"quote_added_in_list",product_id:o,quantity:c,quote_action:"add_item"});fetch(quote_button.ajaxurl,{method:"POST",body:u}).then((t=>t.json())).then((t=>{console.log("Response:",t.message);const e=document.querySelector(".quote-message-container");e&&(e.textContent=t.message)})).catch((t=>{console.error("Error:",t)}))}))}))})();