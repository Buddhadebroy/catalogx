(()=>{"use strict";const t=window.wp.blocks,e=window.wp.blockEditor,o=window.wp.i18n,n=window.ReactJSXRuntime;(0,t.registerBlockType)("catalogx/quote-button",{title:"Quote Button",icon:{src:(0,n.jsx)("span",{className:"adminLib-icon adminLib-price-quote-icon"})},category:"catalogx",edit(){const t=(0,e.useBlockProps)();return(0,n.jsx)("div",{...t,children:(0,n.jsx)("button",{className:"catalogx-add-request-quote-button",children:(0,o.__)("Add to Quote","catalogx")})})},save:()=>(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{className:"catalogx-add-request-quote-button",children:(0,o.__)("Add to Quote","catalogx")}),(0,n.jsx)("div",{className:"quote-message-container"})]})}),document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".catalogx-add-request-quote-button");t&&t.addEventListener("click",(function(e){e.preventDefault();const o=document.querySelector('[data-block-name="woocommerce/single-product"]'),n=o?o.dataset.productId:null,c=document.querySelector(".quantity .qty"),a=c?c.value:1,s=new URLSearchParams({action:"quote_added_in_list",product_id:n,quantity:a,quote_action:"add_item"});fetch(t.ajaxurl,{method:"POST",body:s}).then((t=>t.json())).then((t=>{console.log("Response:",t.message);const e=document.querySelector(".quote-message-container");e&&(e.textContent=t.message)})).catch((t=>{console.error("Error:",t)}))}))}))})();